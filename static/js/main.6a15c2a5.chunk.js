(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(29)},20:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),o=n.n(i),l=(n(20),n(3)),c=n(4),s=n(6),m=n(5),u=n(7),p=(n(22),n(31)),d=n(32),h=n(11),f=n(10),y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={author:"",content:"",likes:0,time:""},n.handleSubmit=function(e){e.preventDefault();var t=n.state;t.author&&t.content&&(n.state.time=(new Date).getTime(),n.props.onCreate(n.state),n.setState({author:"",content:"",likes:0,time:""}))},n.handleChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleKeyUp=function(e){13===e.keyCode&&n.handleSubmit(e)},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.type;return r.a.createElement("form",{className:"comment"===e?"commentFormArea":"replyFormArea",onKeyUp:this.handleKeyUp},r.a.createElement("div",{className:"inputAuthor"},r.a.createElement("input",{name:"author",className:"inputId",value:this.state.author,placeholder:"\uc544\uc774\ub514",onChange:this.handleChange})),r.a.createElement("div",{className:"inputForm"},r.a.createElement("textarea",{className:"inputContent",name:"content",value:this.state.content,placeholder:"\ub313\uae00\uc744 \ub2ec\uc544\ubcf4\uc138\uc694",onChange:this.handleChange}),r.a.createElement("div",{className:"submitArea"},r.a.createElement("input",{type:"button",className:"submitBtn",onClick:this.handleSubmit,value:"\uac8c\uc2dc"}))))}}]),t}(a.Component),v=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={like:!0,likeCount:n.props.likes},n.likeCmt=function(){var e=n.props.onUpdate,t=n.props.likes,a=n.state.like;a?t++:t--,e(t),n.setState({like:!a,likeCount:t})},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"likeArea"},r.a.createElement("input",{type:"button",value:"\uc88b\uc544\uc694",onClick:this.likeCmt}),r.a.createElement("span",null,this.state.likeCount))}}]),t}(a.Component),k=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getTimeAgo=function(){var e=n.props.time;console.log("before_time = "+e);var t=(new Date).getTime();console.log("cur_time = "+t);var a,r,i,o,l=(t-e)/1e3;return l>60?(o=l/60)>60?(i=o/60)>24?(r=i/24)>30?(a=r/30)>12?parseInt(a/12)+"\ub144":parseInt(a)+"\ub2ec":parseInt(r)+"\uc77c":parseInt(i)+"\uc2dc\uac04":parseInt(o)+"\ubd84":"\uba87 \ucd08"},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"time"},r.a.createElement("span",{className:"fromNow"},this.getTimeAgo()," \uc804"))}}]),t}(a.Component),g=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isComment:"comment"===n.props.type,editing:!1},n.inputReply=function(){(0,n.props.showReply)()},n.handleToggleEdit=function(){var e=n.props,t=e.data,a=e.onUpdate;n.state.editing?a(t.id,{content:n.state.content}):n.setState({content:t.content}),n.setState({editing:!n.state.editing})},n.handleUpdateLikes=function(e){var t=n.props,a=t.data;(0,t.updateLikes)(a.id,e)},n.handleChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleKeyUp=function(e){13===e.keyCode&&n.handleToggleEdit()},n.handleRemove=function(){var e=n.props,t=e.data;(0,e.onRemove)(t.id)},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t||this.props.data!==e.data}},{key:"render",value:function(){var e=this.props.data,t=e.author,n=e.content,i=e.likes,o=e.time,l=this.state,c=l.isComment,s=l.editing;return r.a.createElement("div",{className:c?"comment":"reply"},r.a.createElement("div",{className:"author"},t),s?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"contentArea"},r.a.createElement("input",{name:"content",value:this.state.content,onChange:this.handleChange,onKeyUp:this.handleKeyUp}))):r.a.createElement(a.Fragment,null,r.a.createElement("div",null,n)),r.a.createElement("div",{className:"commentFooterArea"},r.a.createElement("div",{className:"timeReplyArea"},r.a.createElement(k,{time:o}),c?r.a.createElement(a.Fragment,null,r.a.createElement("span",null,"\xb7"),r.a.createElement("a",{className:"replyArea",onClick:this.inputReply},r.a.createElement("span",null,"\ub2f5\uae00 \ub2ec\uae30"))):""),r.a.createElement("div",{className:"updateArea"},r.a.createElement(v,{likes:i,onUpdate:this.handleUpdateLikes}),r.a.createElement("span",null,this.state.cmtCount),r.a.createElement("input",{type:"button",value:s?"\uc801\uc6a9":"\uc218\uc815",onClick:this.handleToggleEdit}),r.a.createElement("input",{type:"button",value:"\uc0ad\uc81c",onClick:this.handleRemove}))))}}]),t}(a.Component),E=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showReply:!1},n.showReplyForm=function(){n.setState({showReply:!n.state.showReply})},n.createReply=function(e){var t=n.props,a=t.info;(0,t.onCreateReply)(a.id,e)},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.info,n=e.onUpdate,i=e.onRemove,o=e.updateLikes,l=this.state.showReply,c=t.reply,s="";return c&&c.length>0&&(s=c.map(function(e){return r.a.createElement(g,{type:"reply",data:e,key:e.id,onUpdate:n,onRemove:i,updateLikes:o})})),r.a.createElement("div",{className:"commentWrap"},r.a.createElement(g,{type:"comment",data:t,key:t.id,onUpdate:n,onRemove:i,updateLikes:o,showReply:this.showReplyForm}),s,l&&r.a.createElement(a.Fragment,null,r.a.createElement(y,{type:"reply",onCreate:this.createReply})))}}]),t}(a.Component),b=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.onUpdate,a=e.onRemove,i=e.updateLikes,o=e.onCreateReply,l=t.map(function(e){return r.a.createElement(E,{info:e,key:e.id,onUpdate:n,onRemove:a,updateLikes:i,onCreateReply:o})});return r.a.createElement("div",{className:"commentList"},l)}}]),t}(a.Component);b.defaultProps={data:[]};var j=b,C=(n(24),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).comment_id=3,n.state={sortBy:"likes",information:[{id:0,author:"sjyoung",content:"\uc548\ub155\ud558\uc138\uc694",likes:0,time:1544064880438,reply:[{id:"0-0",author:"kkk",content:"\ubc18\uac11\uc2b5\ub2c8\ub2e4",likes:0,time:1544089503275},{id:"0-1",author:"sjyoung",content:"\ub124~~ \ubc18\uac00\uc6cc\uc694^^",likes:0,time:1544089503444}]},{id:1,author:"julia",content:"\uc548\ub155~~",likes:4,time:1544007341933,reply:[]},{id:2,author:"herry0917",content:"???",likes:1,time:1544081416151,reply:[]}]},n.handleSort=function(e){var t=n.state.sortBy,a=e.target.getAttribute("name");t!==a&&n.setState({sortBy:a})},n.handleCreate=function(e){var t=n.state.information;n.setState({information:t.concat(Object(h.a)({},e,{id:n.comment_id++,reply:[]}))})},n.handleCreateReply=function(e,t){var a=n.state.information;n.setState({information:a.map(function(n){return n.id===e?{id:n.id,author:n.author,content:n.content,likes:n.likes,time:n.time,reply:n.reply.concat(Object(h.a)({id:n.id+"-"+n.reply.length},t))}:n})})},n.handleUpdate=function(e,t){var a=n.state.information;if("string"===typeof e){var r=e.split("-")[0];n.setState({information:a.map(function(n){if(console.log(n.id.toString()+"==="+r),n.id.toString()===r){var a=n.reply;return{id:n.id,author:n.author,content:n.content,likes:n.likes,time:n.time,reply:a.map(function(n){return console.log(n.id+"==="+e),n.id===e?Object(h.a)({id:n.id,author:n.author,time:n.time,likes:n.likes},t):n})}}return n})})}else n.setState({information:a.map(function(n){return n.id===e?Object(h.a)({id:e,author:n.author,time:n.time,likes:n.likes,reply:n.reply},t):n})})},n.updateLikes=function(e,t){var a=n.state.information;if("string"===typeof e){var r=e.split("-")[0];n.setState({information:a.map(function(n){if(n.id.toString()===r){var a=n.reply;return{id:n.id,author:n.author,content:n.content,likes:n.likes,time:n.time,reply:a.map(function(n){return n.id===e?{id:n.id,author:n.author,content:n.content,time:n.time,likes:t}:n})}}return n})})}else n.setState({information:a.map(function(n){return n.id===e?{id:e,author:n.author,content:n.content,likes:t,time:n.time,reply:n.reply}:n})})},n.handleRemove=function(e){var t=n.state.information;if("string"===typeof e){var a=e.split("-")[0];n.setState({information:t.filter(function(t){return t.id!==e})}),n.setState({information:t.map(function(t){if(console.log(t.id.toString()+"==="+a),t.id.toString()===a){var n=t.reply;return{id:t.id,author:t.author,content:t.content,likes:t.likes,time:t.time,reply:n.filter(function(t){return t.id!==e})}}return t})})}else n.setState({information:t.filter(function(t){return t.id!==e})})},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.sortBy,n=e.information,a=n.length;return n=n.sort(function(e,n){return n[t]-e[t]}),r.a.createElement("div",{className:"commentListWrap"},r.a.createElement("div",{className:"commentListFunc"},r.a.createElement("div",{className:"commentCount"},r.a.createElement("span",null,a),r.a.createElement("span",null,"\uac1c\uc758 \ub313\uae00")),r.a.createElement("div",{className:"commentSort"},r.a.createElement("div",{className:"likes"===t?"sortSelected":"sort",onClick:this.handleSort},r.a.createElement("span",{name:"likes"},"\ucd94\ucc9c\uc21c")),r.a.createElement("div",{className:"sortSep"}),r.a.createElement("div",{className:"time"===t?"sortSelected":"sort",onClick:this.handleSort},r.a.createElement("span",{name:"time"},"\ucd5c\uc2e0\uc21c")))),r.a.createElement("div",null,r.a.createElement(j,{data:n,onUpdate:this.handleUpdate,onRemove:this.handleRemove,updateLikes:this.updateLikes,onCreateReply:this.handleCreateReply}),r.a.createElement("hr",null),r.a.createElement(y,{type:"comment",onCreate:this.handleCreate})))}}]),t}(a.Component)),O=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(d.a,{path:"/",component:C})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,2,1]]]);
//# sourceMappingURL=main.6a15c2a5.chunk.js.map